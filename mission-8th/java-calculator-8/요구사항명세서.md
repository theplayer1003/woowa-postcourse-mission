# 요구사항 명세서
---

# java-calculator-8

## 비즈니스 불변식

- 한 문자열에서 나온 구분자들은 해당 문자열에서만 사용된다
- 덧셈의 대상은 모두 양수이다
- 구분자는 단일 문자 여야 한다
- 구분자는 숫자일 수 없다

## 도메인 모델

### `PositiveNumber`

- 정의
    - 숫자 계산기에 사용되는 숫자 원시값 랩핑, VO
- 책임
    - 입력값이 숫자인지 검증
    - 숫자가 양수인지 검증

### `PositiveNumbers`

- 정의
    - `PositiveNumber` 들을 다루는 일급 컬렉션
- 책임
    - 숫자들의 합을 더함

### `Delimiter`

- 정의
    - 숫자 계산기에 사용되는 구분자 문자 원시값 랩핑, VO
- 책임
    - 문자열이 문자인지 검증
    - 문자열이 구분자가 되기에 적합한지 검증
        - 기본 구분자일 경우 무시
        - 하나의 문자가 아닐 경우 예외처리
        - 숫자 일 경우 예외 처리

### `Delimiters`

- 정의
    - `Delimiter` 들을 다루는 일급 컬렉션
- 책임
    - 생성 시 기본 구분자를 생성
    - 정규표현식을 제공

### `PreparedString`

- 정의
    - 특수 구분자 구문을 제거한 문자열을 다루는 객체
- 책임
    - `Delimiters` 를 통해 문자열을 분리

### `PreparedStringFactory`

- 정의
    - 특수 구분자를 제거한 문자열 생성
- 책임
    - 특수 구분자를 찾아내 `Delimiters` 를 생성
    - 특수 구분자 구문을 제거한 문자열과 `Delimiters` 로 `PreparedString` 를 생성

### 도메인 계층 시나리오

- `Service` 객체는 `사용자 입력 문자열` 로 도메인 계층에게 문자열 분석 및 덧셈 결과 반환을 요청한다
    - `Service` 객체가 `PreparedStringFactory` 에게 `PreparedString` 생성을 요청한다
        - `PreparedStringFactory` 는 `사용자 입력 문자열` 을 이용해 `Delimiters` 를 생성한다
        - `PreparedStringFactory` 는 `사용자 입력 문자열` 에서 특수 구분자 구문을 제거하고 `Delimiters` 를 이용해 `PreparedString` 을 생성한다
    - `Service` 객체가 `PreparedString` 에게 분리된 숫자 리스트 반환을 요청한다
        - `PreparedString` 은 `Delimiters` 를 통해 문자열을 분리하고 숫자들을 `List` 에 담아 반환한다
    - `Service` 객체가 `List` 를 이용해 `PositiveNumbers` 객체를 생성한다
    - `Service` 객체가 `PositiveNumbers` 에게 `SumResult` 생성을 요청한다
    - `Service` 객체가 `DtoMaker` 에게 `SumResultDto` 생성을 요청한다
- `Service` 객체가 UI 계층에게 `SumResultDto` 를 반환한다
