# java-attendance-precourse
> 🚨 **본 문서는 AI를 통해 복원된 미션 문서로 실제와 다소 차이가 있을 수 있습니다.**


# 미션 - 출석 관리

## 🔍 진행 방식

- 미션은 **기능 요구 사항, 프로그래밍 요구 사항, 과제 진행 요구 사항** 세 가지로 구성되어 있다.

- 세 개의 요구 사항을 만족하기 위해 노력한다. 특히 기능을 구현하기 전에 기능 목록을 만들고, 기능 단위로 커밋 하는 방식으로 진행한다.

- 기능 요구 사항에 기재되지 않은 내용은 스스로 판단하여 구현한다.


## 📮 미션 제출 방법

- 미션 구현을 완료한 후 GitHub을 통해 제출해야 한다. GitHub을 활용한 제출 방법은 **프리코스 과제 제출** 문서를 참고해 제출한다.

- GitHub에 미션을 제출한 후 **우아한테크코스 지원** 사이트에 접속하여 프리코스 과제를 제출한다. 자세한 방법은 **제출 가이드** 참고

- Pull Request만 보내고 지원 플랫폼에서 과제를 제출하지 않으면 최종 제출하지 않은 것으로 처리되니 주의한다.


## 🚨 과제 제출 전 체크 리스트 - 0점 방지

- 기능 구현을 모두 정상적으로 했더라도 **요구 사항에 명시된 출력값 형식을 지키지 않을 경우 0점으로 처리**한다.

- 기능 구현을 완료한 뒤 아래 가이드에 따라 테스트를 실행했을 때 모든 테스트가 성공하는지 확인한다.

- **테스트가 실패할 경우 0점으로 처리**되므로, 반드시 확인 후 제출한다.


### 테스트 실행 가이드

- 터미널에서 `java -version`을 실행하여 Java 버전이 21인지 확인한다. 또는 Eclipse, IntelliJ IDEA와 같은 IDE에서 Java 21로 실행되는지 확인한다.

- 터미널에서 Mac 또는 Linux 사용자의 경우 `./gradlew clean test` 명령을 실행하고, Windows 사용자의 경우 `gradlew.bat clean test` 명령을 실행할 때 모든 테스트가 아래와 같이 통과하는지 확인한다.


```
BUILD SUCCESSFUL in 0s
```

---

## 🚀 기능 요구 사항

우아한테크코스 교육 센터의 매니저인 **'구구'**는 매일 아침 크루들의 출석을 확인하고 관리하는 업무를 맡고 있다. 크루들의 출석 기록을 수기로 관리하다 보니 실수가 잦고, 제적 위험자를 파악하는 데 많은 시간이 소요되고 있다.

효율적인 출석 관리를 위해, 크루들의 등교 시간을 체크하고 출석 상태를 판별하며, 제적 위험자를 자동으로 식별해 주는 **'출석 관리 시스템'**을 개발하려고 한다.

아래의 요구 사항을 충족하는 출석 관리 프로그램을 만들어주세요.

### 1. 출석 규칙 및 기준

시스템은 **2024년 12월**을 기준으로 동작하며, **매일 08:00 ~ 23:00** 사이에만 캠퍼스가 운영된다.

- **교육 시간 (등교 기준 시간)**

    - **월요일:** 13:00 ~ 18:00

    - **화요일 ~ 금요일:** 10:00 ~ 18:00

    - **주말 및 공휴일:** 등교하지 않음 (12월 25일 성탄절 포함)

- **출석 판정 기준**

    - **출석:** 등교 기준 시간 시작 전, 혹은 시작 후 **5분 이내** 등교 (포함)

    - **지각:** 등교 기준 시간 **5분 초과 ~ 30분 이하** 등교 (포함)

    - **결석:**

        - 등교 기준 시간 **30분 초과** 등교

        - 등교하지 않아 출석 기록이 없는 경우

    - **예시 (화요일 10:00 기준):**

        - 09:59 → **출석**

        - 10:05 → **출석**

        - 10:06 → **지각**

        - 10:30 → **지각**

        - 10:31 → **결석**


### 2. 제적 위험자 관리 규칙

누적된 지각 및 결석 횟수에 따라 경고, 면담, 제적 대상자로 분류한다.

- **지각 3회는 결석 1회로 간주한다.** (나머지 지각 횟수는 그대로 유지)

- **징계 대상 기준**

    - **경고 대상자:** 결석 **2회** 이상 (결석 환산 점수 기준)

    - **면담 대상자:** 결석 **3회** 이상 (결석 환산 점수 기준)

    - **제적 대상자:** 결석 **5회 초과** (즉, 6회부터)


### 3. 주요 기능

프로그램 시작 시 `attendances.csv` 파일에 있는 12월의 기존 출석 기록을 불러온다. 메인 화면에서 기능을 선택하여 실행하며, **'Q'를 입력하여 종료하기 전까지 프로그램은 계속 실행**된다.

**1) 출석 확인**

- 닉네임과 등교 시간을 입력받아 출석 상태(출석, 지각, 결석)를 판별한다.

- 이미 출석한 기록이 있는 경우 다시 출석할 수 없다.

- 캠퍼스 운영 시간(08:00~23:00)이 아니거나 휴일인 경우 출석할 수 없다.


**2) 출석 수정**

- 닉네임, 수정할 날짜(일), 변경할 등교 시간을 입력받아 기록을 수정한다.

- 미래의 날짜나 아직 출석하지 않은 날짜의 기록은 수정할 수 없다.

- 수정 완료 시 **변경 전** 상태와 **변경 후** 상태를 함께 보여준다.


**3) 크루별 출석 기록 확인**

- 닉네임을 입력하면 해당 크루의 **이번 달(1일 ~ 어제)**까지의 모든 출석 기록을 출력한다.

- 현재 날짜(오늘)의 기록은 포함하지 않는다.

- 출석 기록이 없는 날(등교하지 않은 날)은 결석으로 처리하여 `--:-- (결석)`으로 표시한다.

- 총 출석, 지각, 결석 횟수와 면담 대상자 여부를 하단에 출력한다.


**4) 제적 위험자 확인**

- **전날(어제)**까지의 출석 기록을 바탕으로 제적 위험자를 판별하여 출력한다.

- 출력 순서는 **제적 대상자 > 면담 대상자 > 경고 대상자** 순이다.

- 동일 대상 그룹 내에서는 **결석 횟수(지각 환산 포함)가 높은 순(내림차순)**으로 정렬하며, 결석 횟수가 같을 경우 **닉네임 오름차순**으로 정렬한다.


---

### 입출력 요구 사항

#### 실행 및 메뉴 선택

프로그램 시작 시 오늘의 날짜와 함께 메뉴를 출력한다. 기능 실행 후에는 다시 초기 메뉴 화면으로 돌아온다. (실행 예시는 **2024년 12월 13일 금요일**을 기준으로 한다.)

```
오늘은 12월 13일 금요일입니다. 기능을 선택해 주세요.
1. 출석 확인
2. 출석 수정
3. 크루별 출석 기록 확인
4. 제적 위험자 확인
Q. 종료
```

#### 1. 출석 확인

- 등록되지 않은 닉네임, 잘못된 시간 형식 등 예외 발생 시 에러 메시지를 출력하고 **해당 입력부터 다시 받는다.** (전체 기능 재시작 아님)


```
닉네임을 입력해 주세요.
이든

등교 시간을 입력해 주세요.
09:59

12월 13일 금요일 09:59 (출석)
```

#### 2. 출석 수정

```
출석을 수정하려는 크루의 닉네임을 입력해 주세요.
빙티

수정하려는 날짜(일)를 입력해 주세요.
3

언제로 변경하겠습니까?
09:58

12월 03일 화요일 10:07 (지각) -> 09:58 (출석) 수정 완료!
```

#### 3. 크루별 출석 기록 확인

```
닉네임을 입력해 주세요.
빙티

이번 달 빙티의 출석 기록입니다.

12월 02일 월요일 13:00 (출석)
12월 03일 화요일 09:58 (출석)
12월 04일 수요일 10:02 (출석)
12월 05일 목요일 10:06 (지각)
12월 06일 금요일 10:01 (출석)
12월 09일 월요일 --:-- (결석)
12월 10일 화요일 10:08 (지각)
12월 11일 수요일 --:-- (결석)
12월 12일 목요일 --:-- (결석)

출석: 4회
지각: 2회
결석: 3회

면담 대상자입니다.
```

#### 4. 제적 위험자 확인

```
제적 위험자 조회 결과
- 빙티: 결석 3회, 지각 2회 (면담)
- 이든: 결석 2회, 지각 4회 (면담)
- 쿠키: 결석 2회, 지각 2회 (경고)
- 빙봉: 결석 1회, 지각 5회 (경고)
```

#### 예외 처리

사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`을 발생시키고, `[ERROR]`로 시작하는 에러 메시지를 출력 후 **해당 부분부터 입력을 다시 받는다.**

- **[ERROR] 잘못된 형식을 입력하였습니다.** (메뉴 선택, 날짜 숫자, 시간 형식 오류 등)

- **[ERROR] 등록되지 않은 닉네임입니다.**

- **[ERROR] 12월 14일 토요일은 등교일이 아닙니다.** (주말/공휴일 접근 시)

- **[ERROR] 캠퍼스 운영 시간에만 출석이 가능합니다.** (08:00~23:00 외 입력 시)

- **[ERROR] 아직 수정할 수 없습니다.** (미래 날짜, 출석 기록 없는 날짜 수정 시)

- **[ERROR] 이미 출석을 확인하였습니다. 필요한 경우 수정 기능을 이용해 주세요.**


---

## 🎯 프로그래밍 요구 사항

- **JDK 21** 버전에서 실행 가능해야 한다.

- 프로그램 실행의 시작점은 `Application`의 `main()`이다.

- `build.gradle` 파일을 변경할 수 없고, 외부 라이브러리를 사용하지 않는다.

- [Java 코드 컨벤션](https://github.com/woowacourse/woowacourse-docs/tree/main/styleguide/java) 가이드를 준수하며 프로그래밍한다.

- 프로그램 종료 시 `System.exit()`를 호출하지 않는다.

- 프로그램 구현이 완료되면 `ApplicationTest`의 모든 테스트가 성공해야 한다.

- 프로그래밍 요구 사항에서 달리 명시하지 않는 한 파일, 패키지 이름을 수정하거나 이동하지 않는다.

- indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. **2까지만 허용**한다.

- **3항 연산자**를 쓰지 않는다.

- 함수(또는 메서드)의 길이가 **15라인**을 넘어가지 않도록 구현한다.

- **else 예약어**를 쓰지 않는다.

- **switch/case**를 쓰지 않는다.

- **Java Enum**을 적용하여 프로그램을 구현한다.

- 구현한 기능에 대한 단위 테스트를 작성한다. 단, UI(System.out, System.in, Scanner) 로직은 제외한다.


### 라이브러리 및 데이터 파일

- `camp.nextstep.edu.missionutils`에서 제공하는 `DateTimes` 및 `Console` API를 사용하여 구현해야 한다.

- 현재 날짜와 시간을 가져오려면 `DateTimes.now()`를 활용한다.

- 사용자가 입력하는 값은 `Console.readLine()`을 활용한다.

- **데이터 파일 (`attendances.csv`)**

    - `src/main/resources/attendances.csv` 파일을 읽어 출석 기록을 초기화한다.

    - 파일의 첫 줄은 헤더(`nickname,datetime`)이므로 파싱 시 제외해야 한다.

    - 날짜 및 시간 형식은 `yyyy-MM-dd HH:mm` 형태이다.

    - 파일 내용 예시:

      코드 스니펫

        ```
        nickname,datetime
        쿠키,2024-12-13 10:08
        빙봉,2024-12-13 10:07
        ...
        ```


---

## ✏️ 과제 진행 요구 사항

- 미션은 `java-attendance-7` 저장소를 Fork & Clone해 시작한다.

- 기능을 구현하기 전 `docs/README.md`에 구현할 기능 목록을 정리해 추가한다.

- Git의 커밋 단위는 앞 단계에서 `docs/README.md`에 정리한 기능 목록 단위로 추가한다.

    - [AngularJS Git Commit Message Conventions](https://gist.github.com/stephenparish/9941e89d80e2bc58a153)을 참고해 커밋 메시지를 작성한다.

- 과제 진행 및 제출 방법은 [프리코스 과제 제출](https://www.google.com/search?q=https://github.com/woowacourse/woowacourse-docs/tree/master/precourse) 문서를 참고한다.